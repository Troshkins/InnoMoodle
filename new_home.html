<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="title">Innomoodle</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    /* Полностью обновленные стили */
    :root {
      --primary: #4CAF50;
      --background-primary: #f7f9fc;
      --background-secondary: #ffffff;
      --background-tertiary: #f0f2f5;
      --text-primary: #1a1a1a;
      --text-secondary: #666666;
      --text-tertiary: #999999;
      --element-primary: #d9d9d9;
      --main-primary: #3D7FFF;
      --notify-danger-primary: #ff4d4f;
      --border-radius-large: 24px;
      --border-radius-medium: 16px;
      --border-radius-small: 8px;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      --shadow-hover: 0 8px 20px rgba(0, 0, 0, 0.1);
    }

    [data-theme="dark"] {
      --background-primary: #121212;
      --background-secondary: #1e1e1e;
      --background-tertiary: #2a2a2a;
      --text-primary: #f0f0f0;
      --text-secondary: #b0b0b0;
      --text-tertiary: #808080;
      --element-primary: #333333;
      --main-primary: #5a9cff;
      --shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      --shadow-hover: 0 8px 20px rgba(0, 0, 0, 0.5);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Roboto', sans-serif;
      background-color: var(--background-primary);
      color: var(--text-primary);
      min-height: 100vh;
      margin: 0;
      /* Сдвиг под фиксированный тулбар (20px от верхнего края + 80px высота + примерно 20px отступ) */
      padding-top: 120px;
    }

    /* Основная структура с тремя закругленными блоками */
    .layout {
      display: flex;
      gap: 20px;
      /* убрали min-height:100vh */
      /* внутренние отступы по бокам и снизу */
      padding: 0 20px 20px;
      align-items: stretch; /* выравниваем дочерние по высоте */
    }

    /* Верхний тулбар - полностью закругленный прямоугольник */
    .top-toolbar {
      position: fixed;
      top: 20px;
      left: 20px;
      right: 20px;
      height: 80px;
      background-color: var(--background-secondary);
      border-radius: var(--border-radius-large);
      box-shadow: var(--shadow);
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 30px;
      z-index: 100;
    }

    .toolbar-left {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .toolbar-right {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    .toolbar-logo {
      height: 50px; /* Увеличили логотип */
    }

    .toolbar-title {
      font-size: 1.5rem;
      font-weight: 700;
      display: flex;
      align-items: center; /* Центрируем текст по вертикали */
    }

    /* Сайдбар */
    .sidebar {
      width: 250px;
      flex: 0 0 250px;
      background-color: var(--background-secondary);
      border-radius: var(--border-radius-large);
      box-shadow: var(--shadow);
      padding: 20px 0;
      /* убрали position: sticky, top и высоту */
      overflow-y: auto;
      /* align-self: stretch за счёт align-items: stretch у .layout */
    }

    .sidebar__nav ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .sidebar__nav li {
      margin: 5px 0;
    }

    .sidebar__nav a {
      display: flex;
      align-items: center;
      padding: 12px 20px;
      text-decoration: none;
      color: var(--text-primary);
      font-weight: 500;
      transition: all 0.2s;
      border-radius: var(--border-radius-small);
      margin: 0 10px;
      gap: 15px;
    }

    .sidebar__nav a:hover,
    .sidebar__nav a.active {
      background-color: rgba(61, 127, 255, 0.1);
    }

    .nav-icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    /* Основной контент */
    .main-content {
      flex: 1;
      background-color: var(--background-secondary);
      border-radius: var(--border-radius-large);
      box-shadow: var(--shadow);
      padding: 30px;
      display: flex;
      flex-direction: column;
      /* убрали min-height и margin-top */
    }

    /* Внутренние элементы */
    .header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 30px;
    }

    .welcome-title {
      font-size: 2rem;
      font-weight: 700;
    }

    .btn-toggle {
      background: var(--background-tertiary);
      border: 1px solid var(--element-primary);
      border-radius: var(--border-radius-small);
      padding: 10px 15px;
      cursor: pointer;
      transition: all 0.2s;
      color: var(--text-primary);
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-toggle:hover {
      background-color: var(--element-primary);
    }

    /* Карточки курсов */
    .card-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 25px;
      margin-top: 20px;
    }

    .card {
      background-color: var(--background-tertiary);
      border-radius: var(--border-radius-large);
      box-shadow: var(--shadow);
      overflow: hidden;
      transition: all 0.3s;
      cursor: pointer;
      padding: 25px;
      border: 1px solid var(--element-primary);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-hover);
      border-color: var(--main-primary);
    }

    .card__body {
      padding: 0;
    }

    .card__title {
      font-weight: 700;
      margin: 0 0 15px;
      font-size: 1.2rem;
      color: var(--text-primary);
    }

    .card__progress {
      margin: 0;
      color: var(--text-secondary);
      font-size: 0.9rem;
      margin-bottom: 15px;
    }

    /* Прогресс-бар */
    .progress-container {
      height: 8px;
      background-color: var(--element-primary);
      border-radius: 4px;
      margin-top: 15px;
      overflow: hidden;
    }

    .progress-bar {
      height: 100%;
      background-color: var(--primary);
      border-radius: 4px;
    }

    /* Переключатель вида */
    .view-toggle {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
    }

    .view-btn {
      background: var(--background-tertiary);
      border: 1px solid var(--element-primary);
      border-radius: var(--border-radius-small);
      cursor: pointer;
      padding: 10px 20px;
      transition: all 0.2s;
      color: var(--text-primary);
      font-weight: 500;
    }

    .view-btn.active {
      background-color: var(--primary);
      color: white;
      border-color: var(--primary);
    }

    /* Форма поиска */
    .search {
      display: flex;
      gap: 10px;
    }

    .search select,
    .search input {
      background: var(--background-tertiary);
      border: 1px solid var(--element-primary);
      border-radius: var(--border-radius-small);
      padding: 10px 15px;
      color: var(--text-primary);
      transition: all 0.2s;
    }

    .search input:focus {
      border-color: var(--main-primary);
      outline: none;
    }

    /* Стиль списка */
    .list-view {
      display: flex !important;
      flex-direction: column;
      gap: 10px;
    }

    .list-view .card {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: space-between;
      padding: 15px 25px;
    }

    .list-view .card__body {
      flex: 1;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .list-view .card__title {
      margin-bottom: 0;
    }

    .list-view .card__progress {
      margin-bottom: 0;
      margin-right: 20px;
    }

    .list-view .progress-container {
      width: 150px;
      margin-top: 0;
    }

    /* Адаптивность */
    @media (max-width: 992px) {
      .layout {
        flex-direction: column;
        padding: 10px;
      }

      .top-toolbar {
        position: relative;
        top: 0;
        left: 0;
        right: 0;
        margin: 10px;
      }

      .sidebar {
        width: 100%;
        flex: 0 0 auto;
        margin-top: 10px;
      }

      .main-content {
        margin-top: 10px;
      }
    }

    @media (max-width: 768px) {
      .top-toolbar {
        height: auto;
        padding: 15px;
        flex-direction: column;
        gap: 15px;
      }

      .toolbar-left, .toolbar-right {
        width: 100%;
        justify-content: center;
      }

      .toolbar-right {
        flex-wrap: wrap;
      }

      .card-container {
        grid-template-columns: 1fr;
      }

      .header {
        flex-direction: column;
        gap: 15px;
        align-items: flex-start;
      }

      .search {
        width: 100%;
        flex-direction: column;
      }
    }

    /* Иконки */
    .icon {
      width: 20px;
      height: 20px;
      flex-shrink: 0;
    }

    /* Типографика */
    h1 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 20px;
    }

    h2 {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <!-- Верхний тулбар (полностью закругленный прямоугольник) -->
  <div class="top-toolbar">
    <div class="toolbar-left">
      <img src="/assets/logo.png" alt="Logo" class="toolbar-logo">
      <h1 class="toolbar-title">Innomoodle</h1>
    </div>

    <div class="toolbar-right">
      <div class="search">
        <select class="btn-toggle">
          <option data-i18n="filter.all">Все курсы</option>
          <option data-i18n="filter.active">Активные</option>
          <option data-i18n="filter.completed">Завершенные</option>
        </select>
        <input type="text" placeholder="Поиск курсов" class="btn-toggle" data-i18n-placeholder="search.placeholder">
      </div>

      <button id="langToggle" class="btn-toggle" title="Switch Language">
        <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 22C10.6333 22 9.34167 21.7373 8.125 21.212C6.90833 20.6867 5.84567 19.97 4.937 19.062C4.029 18.154 3.31233 17.0917 2.787 15.875C2.26167 14.6583 1.99933 13.3667 2 12C2 10.6167 2.26267 9.32067 2.788 8.112C3.31333 6.90333 4.03 5.84533 4.938 4.938C5.846 4.02933 6.908 3.31267 8.124 2.788C9.34 2.26333 10.632 2.00067 12 2C13.3833 2 14.6793 2.26267 15.888 2.788C17.0967 3.31333 18.1547 4.03 19.062 4.938C19.9707 5.846 20.6873 6.90433 21.212 8.113C21.7367 9.32167 21.9993 10.6173 22 12C22 13.3667 21.7373 14.6583 21.212 15.875C20.6867 17.0917 19.97 18.1543 19.062 19.063C18.154 19.971 17.0957 20.6877 15.887 21.213C14.6783 21.7383 13.3827 22.0007 12 22ZM12 19.95C12.4333 19.35 12.8083 18.725 13.125 18.075C13.4417 17.425 13.7 16.7333 13.9 16H10.1C10.3 16.7333 10.5583 17.425 10.875 18.075C11.1917 18.725 11.5667 19.35 12 19.95ZM9.4 19.55C9.1 19 8.83734 18.429 8.612 17.837C8.38667 17.245 8.19934 16.6327 8.05 16H5.1C5.58333 16.8333 6.18767 17.5583 6.913 18.175C7.63833 18.7917 8.46733 19.25 9.4 19.55ZM14.6 19.55C15.5333 19.25 16.3627 18.7917 17.088 18.175C17.8133 17.5583 18.4173 16.8333 18.9 16H15.95C15.8 16.6333 15.6127 17.246 15.388 17.838C15.1633 18.43 14.9007 19.0007 14.6 19.55ZM4.25 14H7.65C7.6 13.6667 7.56234 13.3373 7.537 13.012C7.51167 12.6867 7.49933 12.3493 7.5 12C7.5 11.65 7.51267 11.3127 7.538 10.988C7.56333 10.6633 7.60067 10.334 7.65 10H4.25C4.16667 10.3333 4.104 10.6627 4.062 10.988C4.02 11.3133 3.99933 11.6507 4 12C4 12.35 4.021 12.6873 4.063 13.012C4.105 13.3367 4.16733 13.666 4.25 14ZM9.65 14H14.35C14.4 13.6667 14.4377 13.3373 14.463 13.012C14.4883 12.6867 14.5007 12.3493 14.5 12C14.5 11.65 14.4873 11.3127 14.462 10.988C14.4367 10.6633 14.3993 10.334 14.35 10H9.65C9.6 10.3333 9.56233 10.6627 9.537 10.988C9.51167 11.3133 9.49933 11.6507 9.5 12C9.5 12.35 9.51267 12.6873 9.538 13.012C9.56333 13.3367 9.60067 13.666 9.65 14ZM16.35 14H19.75C19.8333 13.6667 19.896 13.3373 19.938 13.012C19.98 12.6867 20.0007 12.3493 20 12C20 11.65 19.979 11.3127 19.937 10.988C19.895 10.6633 19.8327 10.334 19.75 10H16.35C16.4 10.3333 16.4377 10.6627 16.463 10.988C16.4883 11.3133 16.5007 11.6507 16.5 12C16.5 12.35 16.4873 12.6873 16.462 13.012C16.4367 13.3367 16.3993 13.666 16.35 14ZM15.95 8H18.9C18.4167 7.16667 17.8127 6.44167 17.088 5.825C16.3633 5.20833 15.534 4.75 14.6 4.45C14.9 5 15.1627 5.571 15.388 6.163C15.6133 6.755 15.8007 7.36733 15.95 8ZM10.1 8H13.9C13.7 7.26667 13.4417 6.575 13.125 5.925C12.8083 5.275 12.4333 4.65 12 4.05C11.5667 4.65 11.1917 5.275 10.875 5.925C10.5583 6.575 10.3 7.26667 10.1 8ZM5.1 8H8.05C8.2 7.36667 8.38767 6.754 8.613 6.162C8.83833 5.57 9.10067 4.99933 9.4 4.45C8.46667 4.75 7.63733 5.20833 6.912 5.825C6.18667 6.44167 5.58267 7.16667 5.1 8Z" class="fill-current"/>
        </svg>
        EN
      </button>
      <button id="themeToggle" class="btn-toggle" title="Switch Theme">
        <svg id="themeIcon" class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <!-- Иконка будет заменяться JS -->
          <path d="M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9ZM12 4.5L14.03 8.5H9.97L12 4.5ZM12 19.5L9.97 15.5H14.03L12 19.5ZM4.5 12L8.5 9.97V14.03L4.5 12ZM19.5 12L15.5 14.03V9.97L19.5 12ZM14.83 14.83L18.36 18.36L16.95 19.77L13.42 16.24L14.83 14.83ZM9.17 14.83L7.76 16.24L4.23 19.77L2.82 18.36L6.35 14.83L9.17 14.83ZM9.17 9.17L6.35 9.17L2.82 5.64L4.23 4.23L7.76 7.76L9.17 9.17ZM14.83 9.17L16.24 7.76L19.77 4.23L18.36 2.82L14.83 6.35L14.83 9.17Z" class="fill-current"/>
        </svg>
      </button>
      <a href="https://mail.innopolis.ru">
        <button class="btn-toggle" title="Mail">
          <svg class="icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M20 4H4C2.9 4 2.01 4.9 2.01 6L2 18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V6C22 4.9 21.1 4 20 4ZM19 18H5C4.45 18 4 17.55 4 17V8L10.94 12.34C11.59 12.75 12.41 12.75 13.06 12.34L20 8V17C20 17.55 19.55 18 19 18ZM12 11L4 6H20L12 11Z" class="fill-current"/>
          </svg>
        </button>
      </a>
    </div>
  </div>

  <div class="layout">
    <!-- Сайдбар -->
    <aside class="sidebar">
      <nav class="sidebar__nav">
        <ul>
          <li><a href="#" data-section="dashboard" class="active">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 13H11V3H3V13ZM3 21H11V15H3V21ZM13 21H21V11H13V21ZM13 3V9H21V3H13Z" class="fill-current"/>
            </svg>
            <span data-i18n="nav.dashboard">Обзор</span>
          </a></li>
          <li><a href="#" data-section="courses">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 3L1 9L12 15L21 10.09V17H23V9L12 3ZM5 13.11V17.5L12 21L19 17.5V13.11L12 17L5 13.11Z" class="fill-current"/>
            </svg>
            <span data-i18n="nav.courses">Курсы</span>
          </a></li>
          <li><a href="#" data-section="quizzes">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17 13H13V17H11V13H7V11H13V7H17V13ZM12 2C6.48 2 2 6.48 2 12C2 17.52 6.48 22 12 22C17.52 22 22 17.52 22 12C22 6.48 17.52 2 12 2ZM12 20C7.59 20 4 16.41 4 12C4 7.59 7.59 4 12 4C16.41 4 20 7.59 20 12C20 16.41 16.41 20 12 20Z" class="fill-current"/>
            </svg>
            <span data-i18n="nav.quizzes">Тесты</span>
          </a></li>
          <li><a href="#" data-section="performance">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M16 11V5H14V11H10V5H8V11H5V13H8V19H10V13H14V19H16V13H19V11H16Z" class="fill-current"/>
            </svg>
            <span data-i18n="nav.performance">Успеваемость</span>
          </a></li>
          <li><a href="#" data-section="profile">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 12C14.21 12 16 10.21 16 8C16 5.79 14.21 4 12 4C9.79 4 8 5.79 8 8C8 10.21 9.79 12 12 12ZM12 14C9.33 14 4 15.34 4 18V20H20V18C20 15.34 14.67 14 12 14Z" class="fill-current"/>
            </svg>
            <span data-i18n="nav.profile">Профиль</span>
          </a></li>
          <li><a href="/login.html">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17 7L15.59 8.41L18.17 11H8V13H18.17L15.59 15.59L17 17L22 12L17 7ZM4 5H12V3H4C2.9 3 2 3.9 2 5V19C2 20.1 2.9 21 4 21H12V19H4V5Z" class="fill-current"/>
            </svg>
            <span data-i18n="nav.logout">Выйти</span>
          </a></li>
        </ul>
      </nav>
    </aside>

    <!-- Основной контент -->
    <main class="main-content">
      <div class="header">
        <div>
          <h1 class="welcome-title">Добро пожаловать!</h1>
        </div>

        <div class="view-toggle">
          <button class="view-btn active" data-view="cards" data-i18n="view.cards">Карточки</button>
          <button class="view-btn" data-view="list" data-i18n="view.list">Список</button>
        </div>
      </div>

      <!-- Секция курсов -->
      <section id="courses" class="active">
        <h2 data-i18n="myCourses">Мои курсы</h2>
        <div id="courses-list" class="card-container">
          <!-- Карточка курса 1 -->
          <div class="card">
            <div class="card__body">
              <h3 class="card__title">[S25] Аналитическая геометрия и линейная алгебра II</h3>
              <p class="card__progress">56% выполнено</p>
              <div class="progress-container">
                <div class="progress-bar" style="width: 56%"></div>
              </div>
            </div>
          </div>

          <!-- Карточка курса 2 -->
          <div class="card">
            <div class="card__body">
              <h3 class="card__title">[S25] Математический анализ II</h3>
              <p class="card__progress">42% выполнено</p>
              <div class="progress-container">
                <div class="progress-bar" style="width: 42%"></div>
              </div>
            </div>
          </div>

          <!-- Карточка курса 3 -->
          <div class="card">
            <div class="card__body">
              <h3 class="card__title">[S25] Основы программирования</h3>
              <p class="card__progress">78% выполнено</p>
              <div class="progress-container">
                <div class="progress-bar" style="width: 78%"></div>
              </div>
            </div>
          </div>

          <!-- Карточка курса 4 -->
          <div class="card">
            <div class="card__body">
              <h3 class="card__title">[S25] Английский язык B2</h3>
              <p class="card__progress">65% выполнено</p>
              <div class="progress-container">
                <div class="progress-bar" style="width: 65%"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Остальные секции -->
      <section id="dashboard">
        <!-- ... ваш контент dashboard ... -->
      </section>

      <section id="create-course">
        <!-- ... ваш контент create-course ... -->
      </section>

      <section id="quizzes">
        <!-- ... ваш контент quizzes ... -->
      </section>

      <section id="performance">
        <!-- ... ваш контент performance ... -->
      </section>

      <section id="profile">
        <!-- ... ваш контент profile ... -->
      </section>
    </main>
  </div>

  <script>
    // Простейшая реализация переключения тем
    document.getElementById('themeToggle').addEventListener('click', function() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);

      // Сохраняем выбор пользователя
      localStorage.setItem('theme', newTheme);

      // Меняем иконку
      const themeIcon = document.getElementById('themeIcon');
      if (newTheme === 'dark') {
        themeIcon.innerHTML = '<path d="M12.8956 3.55332C12.705 3.53848 12.5145 3.5357 12.3244 3.545C12.2186 3.54997 12.1127 3.558 12.007 3.56908C7.91503 3.96808 5 7.36458 5 11.5C5 15.9208 8.57925 19.5 13 19.5C16.1354 19.5 18.7827 17.7148 20 15.1563C20.0627 15.0324 20.0311 14.8841 19.9233 14.7946C19.8154 14.705 19.6562 14.6966 19.5381 14.7747C19.0995 15.061 18.6081 15.2648 18.0916 15.375C17.5751 15.4853 17.0429 15.5002 16.5214 15.4188C16 15.3374 15.4998 15.1611 15.0462 14.8993C14.5926 14.6375 14.1943 14.2953 13.8732 13.891C13.5521 13.4866 13.3145 13.0279 13.173 12.5402C13.0315 12.0525 12.9889 11.545 13.0475 11.0443C13.1061 10.5435 13.2648 10.0593 13.5151 9.6184C13.7655 9.17748 14.1024 8.78877 14.507 8.47422C14.9116 8.15968 15.3761 7.9258 15.8748 7.786C16.3734 7.6462 16.8964 7.60344 17.4127 7.66025C17.929 7.71706 18.4283 7.87231 18.881 8.11672C19.0048 8.18504 19.1569 8.17129 19.2669 8.08259C19.3769 7.99389 19.4247 7.84715 19.3881 7.70847C18.9966 6.12034 18.0004 4.71715 16.5705 3.76408C15.1405 2.81101 13.3685 2.37142 11.6097 2.52847C10.9989 2.5896 10.3958 2.72057 9.81276 2.91878C9.68142 2.96322 9.53306 2.92888 9.439 2.8328C9.34495 2.73673 9.32351 2.59824 9.38438 2.48437C9.79788 1.69938 10.4231 1.04187 11.1932 0.581793C11.9633 0.121717 12.8497 -0.122577 13.7494 0.0462515C14.6491 0.21508 15.529 0.660079 16.2958 1.34136C17.0627 2.02264 17.689 2.91806 18.1131 3.94416C18.5371 4.97026 18.7439 6.09311 18.7141 7.22457C18.6842 8.35603 18.4187 9.45971 17.9423 10.447C17.4659 11.4343 16.7946 12.2754 15.9866 12.8995C15.1787 13.5236 14.2592 13.9124 13.3094 14.032C12.3596 14.1515 11.4103 13.9982 10.5415 13.5875C9.67266 13.1767 8.91263 12.5224 8.33441 11.6846C7.75619 10.8469 7.37996 9.85389 7.24418 8.80338C7.1084 7.75287 7.21825 6.6812 7.56208 5.68922C7.90591 4.69724 8.47186 3.81929 9.205 3.14359C9.93814 2.46789 10.812 2.01786 11.7397 1.839" class="fill-current"/>';
      } else {
        themeIcon.innerHTML = '<path d="M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9ZM12 4.5L14.03 8.5H9.97L12 4.5ZM12 19.5L9.97 15.5H14.03L12 19.5ZM4.5 12L8.5 9.97V14.03L4.5 12ZM19.5 12L15.5 14.03V9.97L19.5 12ZM14.83 14.83L18.36 18.36L16.95 19.77L13.42 16.24L14.83 14.83ZM9.17 14.83L7.76 16.24L4.23 19.77L2.82 18.36L6.35 14.83L9.17 14.83ZM9.17 9.17L6.35 9.17L2.82 5.64L4.23 4.23L7.76 7.76L9.17 9.17ZM14.83 9.17L16.24 7.76L19.77 4.23L18.36 2.82L14.83 6.35L14.83 9.17Z" class="fill-current"/>';
      }
    });

    // Переключение вида карточек/списка
    document.querySelectorAll('.view-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
        this.classList.add('active');

        const viewType = this.dataset.view;
        const container = document.querySelector('.card-container');

        if (viewType === 'list') {
          container.classList.add('list-view');
        } else {
          container.classList.remove('list-view');
        }
      });
    });

    // Навигация по разделам
    function setupNavigation() {
      document.querySelectorAll('.sidebar__nav a').forEach(link => {
        link.addEventListener('click', function(e) {
          if (this.getAttribute('href') === '/login.html') return;

          e.preventDefault();
          const sectionId = this.dataset.section;

          // Скрываем все секции
          document.querySelectorAll('section').forEach(section => {
            section.classList.remove('active');
          });

          // Показываем выбранную секцию
          document.getElementById(sectionId).classList.add('active');

          // Обновляем активную ссылку
          document.querySelectorAll('.sidebar__nav a').forEach(link => {
            link.classList.remove('active');
          });
          this.classList.add('active');
        });
      });
    }

    // Инициализация темы
    function initTheme() {
      const savedTheme = localStorage.getItem('theme') || 'light';
      document.documentElement.setAttribute('data-theme', savedTheme);

      // Устанавливаем правильную иконку
      const themeIcon = document.getElementById('themeIcon');
      if (savedTheme === 'dark') {
        themeIcon.innerHTML = '<path d="M12.8956 3.55332C12.705 3.53848 12.5145 3.5357 12.3244 3.545C12.2186 3.54997 12.1127 3.558 12.007 3.56908C7.91503 3.96808 5 7.36458 5 11.5C5 15.9208 8.57925 19.5 13 19.5C16.1354 19.5 18.7827 17.7148 20 15.1563C20.0627 15.0324 20.0311 14.8841 19.9233 14.7946C19.8154 14.705 19.6562 14.6966 19.5381 14.7747C19.0995 15.061 18.6081 15.2648 18.0916 15.375C17.5751 15.4853 17.0429 15.5002 16.5214 15.4188C16 15.3374 15.4998 15.1611 15.0462 14.8993C14.5926 14.6375 14.1943 14.2953 13.8732 13.891C13.5521 13.4866 13.3145 13.0279 13.173 12.5402C13.0315 12.0525 12.9889 11.545 13.0475 11.0443C13.1061 10.5435 13.2648 10.0593 13.5151 9.6184C13.7655 9.17748 14.1024 8.78877 14.507 8.47422C14.9116 8.15968 15.3761 7.9258 15.8748 7.786C16.3734 7.6462 16.8964 7.60344 17.4127 7.66025C17.929 7.71706 18.4283 7.87231 18.881 8.11672C19.0048 8.18504 19.1569 8.17129 19.2669 8.08259C19.3769 7.99389 19.4247 7.84715 19.3881 7.70847C18.9966 6.12034 18.0004 4.71715 16.5705 3.76408C15.1405 2.81101 13.3685 2.37142 11.6097 2.52847C10.9989 2.5896 10.3958 2.72057 9.81276 2.91878C9.68142 2.96322 9.53306 2.92888 9.439 2.8328C9.34495 2.73673 9.32351 2.59824 9.38438 2.48437C9.79788 1.69938 10.4231 1.04187 11.1932 0.581793C11.9633 0.121717 12.8497 -0.122577 13.7494 0.0462515C14.6491 0.21508 15.529 0.660079 16.2958 1.34136C17.0627 2.02264 17.689 2.91806 18.1131 3.94416C18.5371 4.97026 18.7439 6.09311 18.7141 7.22457C18.6842 8.35603 18.4187 9.45971 17.9423 10.447C17.4659 11.4343 16.7946 12.2754 15.9866 12.8995C15.1787 13.5236 14.2592 13.9124 13.3094 14.032C12.3596 14.1515 11.4103 13.9982 10.5415 13.5875C9.67266 13.1767 8.91263 12.5224 8.33441 11.6846C7.75619 10.8469 7.37996 9.85389 7.24418 8.80338C7.1084 7.75287 7.21825 6.6812 7.56208 5.68922C7.90591 4.69724 8.47186 3.81929 9.205 3.14359C9.93814 2.46789 10.812 2.01786 11.7397 1.839" class="fill-current"/>';
      } else {
        themeIcon.innerHTML = '<path d="M12 9C13.6569 9 15 10.3431 15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9ZM12 4.5L14.03 8.5H9.97L12 4.5ZM12 19.5L9.97 15.5H14.03L12 19.5ZM4.5 12L8.5 9.97V14.03L4.5 12ZM19.5 12L15.5 14.03V9.97L19.5 12ZM14.83 14.83L18.36 18.36L16.95 19.77L13.42 16.24L14.83 14.83ZM9.17 14.83L7.76 16.24L4.23 19.77L2.82 18.36L6.35 14.83L9.17 14.83ZM9.17 9.17L6.35 9.17L2.82 5.64L4.23 4.23L7.76 7.76L9.17 9.17ZM14.83 9.17L16.24 7.76L19.77 4.23L18.36 2.82L14.83 6.35L14.83 9.17Z" class="fill-current"/>';
      }
    }

    // Инициализация
    document.addEventListener('DOMContentLoaded', () => {
      initTheme();
      setupNavigation();
    });
  </script>
</body>
</html>
